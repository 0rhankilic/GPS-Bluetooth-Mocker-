<manifest xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">
    
    <!-- ========================================== -->
    <!-- GELİŞMİŞ MOCK LOCATION DETECTION BYPASS -->
    <!-- ========================================== -->
    
    <!-- Bluetooth Low Energy özellikleri -->
    <uses-feature android:name="android.hardware.bluetooth_le" android:required="false" />
    
    <!-- Bluetooth izinleri -->
    <uses-permission android:name="android.permission.BLUETOOTH" android:maxSdkVersion="30" />
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" android:maxSdkVersion="30" />
    <uses-permission android:name="android.permission.BLUETOOTH_ADVERTISE" />
    <uses-permission android:name="android.permission.BLUETOOTH_CONNECT" />
    <uses-permission android:name="android.permission.BLUETOOTH_SCAN" />
    
    <!-- Android 12+ için ek Bluetooth izinleri -->
    <uses-permission android:name="android.permission.NEARBY_WIFI_DEVICES" />
    
    <!-- Konum izinleri -->
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    
    <!-- ========================================== -->
    <!-- SİSTEM SEVİYESİ MOCK LOCATION İZİNLERİ -->
    <!-- ========================================== -->
    
    <!-- Mock location uygulaması olarak listelenebilmek için -->
    <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION" tools:ignore="MockLocation" />
    
    <!-- Sistem seviyesi izinler (ROOT/SYSTEM APP gerektirir) -->
    <uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" 
        tools:ignore="ProtectedPermissions" />
    <uses-permission android:name="android.permission.WRITE_SETTINGS" 
        tools:ignore="ProtectedPermissions" />
    
    <!-- System properties değiştirme izni -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    
    <!-- Geliştirici seçenekleri erişimi -->
    <uses-permission android:name="android.permission.WRITE_GSERVICES" 
        tools:ignore="ProtectedPermissions" />
    
    <!-- Sistem uygulaması olarak çalışma izni -->
    <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
    
    <!-- Mock location detection bypass için ek izinler -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    
    <!-- ========================================== -->
    <!-- TEKNİK NOTLAR -->
    <!-- ========================================== -->
    <!--
    ÖNEMLİ UYARILAR:
    
    1. SİSTEM UYGULAMASI GEREKSİNİMİ:
       - Bu uygulamanın tam işlevsellik gösterebilmesi için sistem uygulaması olarak 
         imzalanması gerekir (ROOT erişimi gerekli)
       - Normal kullanıcı uygulaması olarak çalışırken bazı izinler reddedilecektir
    
    2. MOCK LOCATION DETECTION BYPASS:
       - WhatsApp, Instagram gibi popüler uygulamalar gelişmiş mock location 
         tespit mekanizmaları kullanır
       - Bu uygulamaların tespitini aşmak için sistem seviyesi müdahale gerekir
       - Magisk/Xposed modülleri veya sistem uygulaması olarak kurulum önerilir
    
    3. GELİŞTİRİCİ SEÇENEKLERİ:
       - USB Hata Ayıklama (USB Debugging) KAPATILMALI
       - Mock Location App olarak bu uygulama seçilmeli
       - Konum servisleri açık olmalı
    
    4. GÜVENLİK UYARISI:
       - Bu uygulama sistem seviyesi izinler gerektirir
       - Yanlış kullanım cihaz güvenliğini tehlikeye atabilir
       - Sadece test amaçlı kullanılmalıdır
    
    5. UYUMLULUK:
       - Android 6.0+ (API 23+) desteklenir
       - En iyi performans Android 9.0+ (API 28+) ile elde edilir
       - Samsung, Xiaomi gibi özel ROM'lar ek kısıtlamalar içerebilir
    -->
    <application
        android:label="ble_mock_app"
        android:name="${applicationName}"
        android:icon="@mipmap/ic_launcher">
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:launchMode="singleTop"
            android:taskAffinity=""
            android:theme="@style/LaunchTheme"
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
            android:hardwareAccelerated="true"
            android:windowSoftInputMode="adjustResize">
            <!-- Specifies an Android theme to apply to this Activity as soon as
                 the Android process has started. This theme is visible to the user
                 while the Flutter UI initializes. After that, this theme continues
                 to determine the Window background behind the Flutter UI. -->
            <meta-data
              android:name="io.flutter.embedding.android.NormalTheme"
              android:resource="@style/NormalTheme"
              />
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <!-- Don't delete the meta-data below.
             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java -->
        <meta-data
            android:name="flutterEmbedding"
            android:value="2" />
    </application>
    <!-- Required to query activities that can process text, see:
         https://developer.android.com/training/package-visibility and
         https://developer.android.com/reference/android/content/Intent#ACTION_PROCESS_TEXT.

         In particular, this is used by the Flutter engine in io.flutter.plugin.text.ProcessTextPlugin. -->
    <queries>
        <intent>
            <action android:name="android.intent.action.PROCESS_TEXT"/>
            <data android:mimeType="text/plain"/>
        </intent>
    </queries>
</manifest>
